<!DOCTYPE html>
<html lang="el" class="no-js">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
<title>GlobalDiscovery</title>
<meta name="description" content="GlobalDiscovery" />
<meta name="keywords" content="3d, room, exhibition, gallery, perspective, animation, web design, Greek history" />
<meta name="author" content="globaldiscovery" />
<link rel="shortcut icon" href="favicon.ico">
<link href="https://fonts.googleapis.com/css?family=Josefin+Sans:400,700" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="https://tympanus.net/Development/Exhibition/css/normalize.css" />
<link rel="stylesheet" type="text/css" href="https://tympanus.net/Development/Exhibition/css/demo.css" />
<style>
body {
    margin: 0;
    background: #000;
    min-height: 100dvh;
    font-family: 'Josefin Sans', sans-serif;
    color: white;
}

.container {
    height: 100dvh;
    position: relative;
    overflow-y: auto; 
    -webkit-overflow-scrolling: touch;
    touch-action: pan-y; 
}

.scroller {
    width: 100%;
    height: 100%;
}

.room {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0; left: 0;
    transform-style: preserve-3d;
    transition: opacity 0.5s ease;
    display: none;
}

.room.active {
    display: block;
    opacity: 1;
    pointer-events: auto;
}

.room__side {
    position: absolute;
    inset: 0;
    backface-visibility: hidden;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: flex-start;
    gap: 30px 40px;
    padding: clamp(20px, 5vw, 40px);
    overflow: hidden;
    background: rgba(10,10,30,0.55); 
}


.video-background {
    position: absolute;
    inset: 0;
    z-index: 0;
    overflow: hidden;
    pointer-events: none;
}

.video-background iframe {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 120%;
    height: 120%;
    transform: translate(-50%, -50%);
    border: none;
}


.room__img-wrapper {
    text-align: center;
    flex: 0 0 auto;
    max-width: 280px;
    cursor: pointer;
    position: relative;
    z-index: 10;
}

.room__img {
    width: auto;
    max-width: 100%;
    max-height: clamp(160px, 28vh, 220px);
    display: block;
    margin: 0 auto 8px auto;
    object-fit: contain;
}

.caption {
    color: white;
    font-size: clamp(0.85rem, 2.4vw, 0.95rem);
    text-align: center;
    text-shadow: 1px 1px 4px black;
    pointer-events: none;
}

:root {
    --zoom: 1;
}

.scroller {
    transform: scale(var(--zoom));
    transform-origin: 50% 50%;
    transition: transform 0.12s ease-out;
}

.content {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 200;
    pointer-events: none;
    padding: clamp(10px, 3vw, 20px);
    box-sizing: border-box;
    text-align: center;
}

.codrops-header__title {
    font-size: clamp(2.2rem, 7vw, 2.8rem);
    margin: 0 0 0.3em 0;
    text-shadow: 0 2px 10px rgba(0,0,0,0.9);
}

.subject {
    font-size: clamp(1.2rem, 4vw, 1.5rem);
    margin: 0;
}

.location {
    font-size: clamp(1rem, 3.2vw, 1.2rem);
    margin: 1em 0 0 0;
}

#popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(20,20,40,0.95);
    padding: clamp(15px, 5vw, 25px);
    border-radius: 12px;
    max-width: 90vw;
    max-height: 85vh;
    overflow-y: auto;
    color: #fff;
    text-align: center;
    font-size: clamp(1rem, 3.5vw, 1.1rem);
    box-shadow: 0 0 25px black;
    display: none;
    z-index: 500;
}

#popup button {
    margin-top: 15px;
    padding: 8px 16px;
    font-size: 0.9rem;
    cursor: pointer;
    border: none;
    border-radius: 6px;
    background: #333;
    color: #fff;
}

#room-nav {
    position: absolute;
    top: 50%;
    width: 100%;
    display: flex;
    justify-content: space-between;
    transform: translateY(-50%);
    z-index: 300;
    pointer-events: auto;
    padding: 0 10px;
}

#room-nav button {
    background: rgba(0,0,0,0.5);
    border: none;
    color: white;
    font-size: clamp(2rem, 8vw, 3rem);
    width: clamp(50px, 14vw, 70px);
    height: clamp(50px, 14vw, 70px);
    border-radius: 50%;
    cursor: pointer;
    transition: background 0.3s;
}

#room-nav button:hover {
    background: rgba(0,0,0,0.8);
}

@media (max-width: 640px) {
    .room__side {
        gap: 20px 30px;
        padding: clamp(15px, 6vw, 30px);
    }
    .room__img-wrapper {
        max-width: 45%;
    }
    .video-background iframe {
        width: 140%;
        height: 140%;
    }
}
</style>
<script>document.documentElement.className = 'js';</script>
</head>
<body>

<div class="container" id="container">
    <div class="scroller" id="scroller">

      
        <div class="room active" id="room1">
            <div class="room__side room__side--back">
                
            
                <div class="video-background">
                    <iframe 
                        src="https://www.youtube.com/embed/Ft-K5ysqlPc?autoplay=1&amp;mute=1&amp;loop=1&amp;playlist=Ft-K5ysqlPc&amp;controls=0&amp;modestbranding=1&amp;rel=0&amp;playsinline=1" 
                        title="Ancient Greece Animation"
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen>
                    </iframe>
                </div>

              
                <div class="room__img-wrapper" data-desc="Δίας">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/c/c8/Jupiter_Smyrna_Louvre_Ma13.jpg" alt="Zeus"/>
                    <div class="caption">Δίας</div>
                </div>
                <div class="room__img-wrapper" data-desc="Ήρα">
                    <img class="room__img" loading="lazy" src="https://www.grethexis.com/wp-content/uploads/2016/09/Hera-Barberini_Pio-Clementino.jpg" alt="Hera"/>
                    <div class="caption">Ήρα</div>
                </div>
                <div class="room__img-wrapper" data-desc="Ποσειδώνας">
                    <img class="room__img" loading="lazy" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQypsCBeUiG4S3MRfdlQwjUcfd_Y2BFce9PHg&s" alt="Poseidon"/>
                    <div class="caption">Ποσειδώνας</div>
                </div>
                <div class="room__img-wrapper" data-desc="Αθηνά">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/51/Austria_Parlament_Athena_bw.jpg/330px-Austria_Parlament_Athena_bw.jpg" alt="Athena"/>
                    <div class="caption">Αθηνά</div>
                </div>
                <div class="room__img-wrapper" data-desc="Άρης">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/7/75/Ares_villa_Hadriana.jpg" alt="Ares"/>
                    <div class="caption">Άρης</div>
                </div>
                <div class="room__img-wrapper" data-desc="Αφροδίτη">
                    <img class="room__img" loading="lazy" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7ZWFJve1Czx0C3RyThyVsk-N9bh0FhBSlEw&s" alt="Aphrodite"/>
                    <div class="caption">Αφροδίτη</div>
                </div>
                <div class="room__img-wrapper" data-desc="Ήφαιστος">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Vulcan_Coustou_Louvre_MR1814.jpg/500px-Vulcan_Coustou_Louvre_MR1814.jpg" alt="Hephaestus"/>
                    <div class="caption">Ήφαιστος</div>
                </div>
                <div class="room__img-wrapper" data-desc="Ερμής">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d0/Hermes_Ingenui_Pio-Clementino_Inv544.jpg/500px-Hermes_Ingenui_Pio-Clementino_Inv544.jpg" alt="Hermes"/>
                    <div class="caption">Ερμής</div>
                </div>
                <div class="room__img-wrapper" data-desc="Απόλλων">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/%CE%9A%CE%AF%CE%BF%CE%BD%CE%B1%CF%82_%CE%91%CF%80%CF%8C%CE%BB%CE%BB%CF%89%CE%BD%CE%B1_-_%CE%91%CE%BA%CE%B1%CE%B4%CE%B7%CE%BC%CE%AF%CE%B1_%CE%91%CE%B8%CE%B7%CE%BD%CF%8E%CE%BD_1201-2.jpg/500px-%CE%9A%CE%AF%CE%BF%CE%BD%CE%B1%CF%82_%CE%91%CF%80%CF%8C%CE%BB%CE%BB%CF%89%CE%BD%CE%B1_-_%CE%91%CE%BA%CE%B1%CE%B4%CE%B7%CE%BC%CE%AF%CE%B1_%CE%91%CE%B8%CE%B7%CE%BD%CF%8E%CE%BD_1201-2.jpg" alt="Apollo"/>
                    <div class="caption">Απόλλων</div>
                </div>
                <div class="room__img-wrapper" data-desc="Άρτεμις">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Artemisa_Diane_Versailles.jpg/500px-Artemisa_Diane_Versailles.jpg" alt="Artemis"/>
                    <div class="caption">Άρτεμις</div>
                </div>
                <div class="room__img-wrapper" data-desc="Δήμητρα">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/%CE%98%CE%B5%CE%AC_%CE%94%CE%AE%CE%BC%CE%B7%CF%84%CF%81%CE%B1_Museo_Pio-Clementino_Ceres_Demeter_%28cropped%29.jpg/500px-%CE%98%CE%B5%CE%AC_%CE%94%CE%AE%CE%BC%CE%B7%CF%84%CF%81%CE%B1_Museo_Pio-Clementino_Ceres_Demeter_%28cropped%29.jpg" alt="Demeter"/>
                    <div class="caption">Δήμητρα</div>
                </div>
                <div class="room__img-wrapper" data-desc="Εστία">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Hestia_Giustiniani.jpg/483px-Hestia_Giustiniani.jpg" alt="Hestia"/>
                    <div class="caption">Εστία</div>
                </div>
            </div>
        </div>

      
        <div class="room" id="room2">
            <div class="room__side room__side--back">
                <div class="room__img-wrapper" data-desc="Κωνσταντίνος ο Μέγας – Μωσαϊκό Αγίας Σοφίας">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/c/cc/Constantine_I_Hagia_Sophia.jpg" alt="Constantine the Great"/>
                    <div class="caption">Κωνσταντίνος ο Μέγας</div>
                </div>
                <div class="room__img-wrapper" data-desc="Ιουστινιανός Α' και η αυλή του – Μωσαϊκό San Vitale, Ravenna">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/89/Meister_von_San_Vitale_in_Ravenna.jpg/960px-Meister_von_San_Vitale_in_Ravenna.jpg" alt="Justinian I"/>
                    <div class="caption">Ιουστινιανός Α'</div>
                </div>
                <div class="room__img-wrapper" data-desc="Θεοδώρα και η αυλή της – Μωσαϊκό San Vitale, Ravenna">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f8/Meister_von_San_Vitale_in_Ravenna_008.jpg/960px-Meister_von_San_Vitale_in_Ravenna_008.jpg" alt="Theodora"/>
                    <div class="caption">Θεοδώρα</div>
                </div>
                <div class="room__img-wrapper" data-desc="Εσωτερικό Αγίας Σοφίας – Κωνσταντινούπολη">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Hagia_Sophia_Mars_2013.jpg/1280px-Hagia_Sophia_Mars_2013.jpg" alt="Hagia Sophia Interior"/>
                    <div class="caption">Αγία Σοφία</div>
                </div>
                <div class="room__img-wrapper" data-desc="Δέηση – Μωσαϊκό Αγίας Σοφίας">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Deesis_mosaic_Hagia_Sophia.jpg/1920px-Deesis_mosaic_Hagia_Sophia.jpg" alt="Deesis Mosaic"/>
                    <div class="caption">Δέηση</div>
                </div>
                <div class="room__img-wrapper" data-desc="Βασίλειος Β' ο Βουλγαροκτόνος">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/d/dc/Basilios_II.jpg" alt="Basil II"/>
                    <div class="caption">Βασίλειος Β'</div>
                </div>
                <div class="room__img-wrapper" data-desc="Αλέξιος Α' Κομνηνός">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/8/8c/Alexios_I_Komnenos.jpg" alt="Alexios I Komnenos"/>
                    <div class="caption">Αλέξιος Α' Κομνηνός</div>
                </div>
                <div class="room__img-wrapper" data-desc="Παναγία Οδηγήτρια – Βυζαντινή εικόνα">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Meister_von_Torcello_002.jpg/960px-Meister_von_Torcello_002.jpg" alt="Virgin Hodegetria"/>
                    <div class="caption">Παναγία Οδηγήτρια</div>
                </div>
                <div class="room__img-wrapper" data-desc="Βυζαντινή εικόνα Χριστού">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Spas_vsederzhitel_sinay.jpg/500px-Spas_vsederzhitel_sinay.jpg" alt="Byzantine Christ Icon"/>
                    <div class="caption">Εικόνα Χριστού</div>
                </div>
                <div class="room__img-wrapper" data-desc="Βυζαντινή εικόνα Παναγίας">
                    <img class="room__img" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Oranta.jpg/500px-Oranta.jpg" alt="Byzantine Virgin Icon"/>
                    <div class="caption">Εικόνα Παναγίας</div>
                </div>
            </div>
        </div>

    </div>

    <div id="room-nav">
        <button id="prev-room">←</button>
        <button id="next-room">→</button>
    </div>
</div>

<div id="popup">
    <div id="popup-text"></div>
    <button id="close-popup">Κλείσιμο</button>
</div>

<div class="content">
    <header class="codrops-header">
        <h1 class="codrops-header__title">GlobalDiscovery</h1>
        <div class="subject">Αρχαία Ελληνική & Βυζαντινή Ιστορία beta version</div>
    </header>
    <h4 class="location">GlobalDiscovery Virtual Museum of Greek History</h4>
</div>

<script>
const container = document.getElementById('container');
const rooms = document.querySelectorAll('.room');

let isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;

// Desktop mouse rotation
if (!isTouchDevice) {
    container.addEventListener('mousemove', e => {
        const rect = container.getBoundingClientRect();
        const mouseX = e.clientX - rect.left; 
        const mouseY = e.clientY - rect.top;
        const centerX = rect.width / 2;
        const centerY = rect.height / 2;
        const rotateY = ((mouseX - centerX) / centerX) * 15;
        const rotateX = ((centerY - mouseY) / centerY) * 10;
        rooms.forEach(room => room.style.transform = `rotateY(${rotateY}deg) rotateX(${rotateX}deg)`);
    });

    container.addEventListener('mouseleave', () => rooms.forEach(room => room.style.transform = ''));
}

// Zoom
let zoomLevel = 1;
const ZOOM_MIN = 0.5;
const ZOOM_MAX = 3.0;
const ZOOM_SPEED = 0.15;
const scroller = document.getElementById('scroller');

scroller.addEventListener('wheel', e => {
    e.preventDefault();
    zoomLevel += (e.deltaY < 0 ? 1 : -1) * ZOOM_SPEED;
    zoomLevel = Math.max(ZOOM_MIN, Math.min(ZOOM_MAX, zoomLevel));
    document.documentElement.style.setProperty('--zoom', zoomLevel);
}, { passive: false });

// Popup
const popup = document.getElementById('popup');
const popupText = document.getElementById('popup-text');
const closePopup = document.getElementById('close-popup');
document.querySelectorAll('.room__img-wrapper').forEach(wrapper => {
    wrapper.addEventListener('click', () => {
        popupText.innerText = wrapper.dataset.desc;
        popup.style.display = 'block';
    });
});
closePopup.addEventListener('click', () => popup.style.display = 'none');

// Rooms navigation
let currentRoom = 0;
let lastRotationX = 0;
let lastRotationY = 0;

const showRoom = index => {
    rooms.forEach((room, i) => room.classList.toggle('active', i === index));
    // reset rotations for new room
    lastRotationX = 0;
    lastRotationY = 0;
    rooms[index].style.transform = '';
};

document.getElementById('prev-room').addEventListener('click', () => {
    currentRoom = (currentRoom - 1 + rooms.length) % rooms.length;
    showRoom(currentRoom);
});

document.getElementById('next-room').addEventListener('click', () => {
    currentRoom = (currentRoom + 1) % rooms.length;
    showRoom(currentRoom);
});

showRoom(currentRoom);

// Touch rotation and pinch zoom
let lastTouch = null;
let initialDistance = null;
let initialZoom = null;

container.addEventListener('touchstart', e => {
    if (e.touches.length === 1) {
        lastTouch = e.touches[0];
    } else if (e.touches.length === 2) {
        const dx = e.touches[0].clientX - e.touches[1].clientX;
        const dy = e.touches[0].clientY - e.touches[1].clientY;
        initialDistance = Math.hypot(dx, dy);
        initialZoom = zoomLevel;
    }
}, { passive: false });

container.addEventListener('touchmove', e => {
    e.preventDefault();
    if (e.touches.length === 1 && lastTouch) {
        const dx = e.touches[0].clientX - lastTouch.clientX;
        const dy = e.touches[0].clientY - lastTouch.clientY;
        lastRotationY += dx / container.offsetWidth * 30;
        lastRotationX -= dy / container.offsetHeight * 20;
        rooms[currentRoom].style.transform = `rotateY(${lastRotationY}deg) rotateX(${lastRotationX}deg)`;
        lastTouch = e.touches[0];
    } else if (e.touches.length === 2 && initialDistance) {
        const dx = e.touches[0].clientX - e.touches[1].clientX;
        const dy = e.touches[0].clientY - e.touches[1].clientY;
        const distance = Math.hypot(dx, dy);
        zoomLevel = initialZoom * (distance / initialDistance);
        zoomLevel = Math.max(ZOOM_MIN, Math.min(ZOOM_MAX, zoomLevel));
        document.documentElement.style.setProperty('--zoom', zoomLevel);
    }
}, { passive: false });

container.addEventListener('touchend', e => {
    if (e.touches.length < 2) initialDistance = initialZoom = null;
    if (e.touches.length === 0) lastTouch = null;
});
</script>

</body>
</html>